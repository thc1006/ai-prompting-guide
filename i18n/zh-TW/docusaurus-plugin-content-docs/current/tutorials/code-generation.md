---
sidebar_position: 2
---

# 程式碼生成與技術文件

透過策略性提示技巧，掌握生成乾淨、功能性程式碼和全面技術文件的藝術。

## 程式碼生成基礎

### 基本程式碼生成模板

```python
"""
你是一位擁有 [專業程度] 經驗的 [程式語言] 開發者。

創建一個 [函數/類別/模組]，具備以下功能：
- [功能1]
- [功能2] 
- [功能3]

需求：
- [技術需求1]
- [技術需求2]
- [效能需求]

包含：
- 適用的型別提示/註解
- 完整的錯誤處理
- 清楚的文檔字串和註釋
- 單元測試範例
"""
```

### 進階程式碼架構提示

```python
"""
你是一位專精於 [技術堆疊] 的資深軟體架構師。

設計並實作 [專案描述]：

架構需求：
- 可擴展性：[預期負載/使用者]
- 效能：[回應時間需求]
- 可靠性：[正常運行時間期望]
- 安全性：[安全標準]

實作規格：
1. 資料層
   - 資料庫設計和關聯性
   - 資料存取模式
   - 快取策略

2. 商業邏輯層  
   - 核心領域模型
   - 服務介面
   - 驗證規則

3. 展示層
   - API 設計（如適用）
   - 使用者介面元件
   - 錯誤處理和訊息傳遞

交付物：
- 系統架構圖
- 核心實作檔案
- 組態範例
- 部署說明
- 測試策略

技術限制：[特定技術堆疊]
時程：[專案時程]
團隊規模：[開發團隊規模]
"""
```

## 語言特定範例

### Python 開發

**資料處理管線：**
```python
"""
你是一位專精於 pandas、NumPy 和資料管線設計的 Python 資料工程師。

創建一個強健的資料處理管線，具備以下功能：
- 從多個來源讀取 CSV 檔案
- 驗證資料品質並處理缺失值
- 執行資料轉換和聚合
- 將結果匯出為 CSV 和 JSON 格式
- 包含完整的日誌記錄和錯誤處理

需求：
- 全程使用型別提示
- 透過環境變數實作組態
- 為大型資料集添加進度追蹤
- 包含 100 萬筆以上記錄的記憶體高效處理
- 遵循 PEP 8 風格指引

結構：
1. 用於品質檢查的 DataValidator 類別
2. 用於轉換的 DataProcessor 類別  
3. 用於輸出處理的 DataExporter 類別
4. 主要管線編排函數
5. 組態管理模組

包含使用 pytest 的單元測試和使用範例文件。
"""
```

**API 開發：**
```python
"""
你是一位專精於 FastAPI 和現代網頁開發的 Python 後端開發者。

為台灣電商平台創建 RESTful API，包含以下端點：

核心功能：
- 使用者認證和授權（JWT）
- [主要實體] 的 CRUD 操作
- 資料驗證和序列化
- 與 SQLAlchemy 的資料庫整合
- 使用 Celery 的背景任務處理

API 端點：
POST /auth/login - 使用者認證
GET /auth/me - 目前使用者資料
GET /products - 列出商品（含分頁/篩選）
POST /products - 創建新商品
GET /products/{id} - 取得特定商品
PUT /products/{id} - 更新商品
DELETE /products/{id} - 刪除商品

需求：
- 用於請求/回應驗證的 Pydantic 模型
- 完整的錯誤處理和 HTTP 狀態碼
- 包含範例的 OpenAPI 文件
- 速率限制和安全標頭
- 使用 Alembic 的資料庫遷移
- 基於環境的組態
- 完整的測試套件

包含 Docker 組態和部署說明。
"""
```

### JavaScript/Node.js 開發

**React 元件庫：**
```javascript
"""
你是一位專精於元件設計和 TypeScript 的資深 React 開發者。

為台灣金融科技公司創建可重用的 UI 元件庫：

元件需求：
- 所有 props 的 TypeScript 介面
- 完整的 prop 驗證
- 無障礙設計（WCAG 2.1 AA 合規）
- 響應式設計支援
- 主題客製化能力
- 效能優化（適當時使用記憶化）

要創建的元件：
1. FinanceCard - 財務卡片元件
2. TransactionTable - 交易表格元件
3. ChartWidget - 圖表小工具

為每個元件提供：
- TypeScript 介面定義
- 使用 hooks 的元件實作
- 多種變化的 Storybook 故事
- 使用 React Testing Library 的單元測試
- 包含範例的使用文件

額外需求：
- 使用 styled-components 或 CSS 模組進行樣式設計
- 共享邏輯的自訂 hooks
- 適當時使用錯誤邊界
- 效能監控整合點

包含建置組態和 npm 發布設定。
"""
```

### 資料庫設計與 SQL

**資料庫架構設計：**
```sql
"""
你是一位專精於 PostgreSQL 和關聯式資料庫設計的資料庫架構師。

為台灣製造業 ERP 系統設計資料庫架構：

架構需求：
- 正規化設計（至少 3NF）
- 適當的索引策略
- 具有級聯規則的外鍵關聯
- 資料驗證約束
- 敏感表格的稽核軌跡

核心實體：
- 供應商：供應商資訊和聯絡資料
- 產品：產品規格和庫存資訊
- 訂單：採購和銷售訂單管理
- 員工：人事資料和權限管理

交付物：
1. 完整的 DDL 腳本和表格創建
2. 索引創建語句及其理由
3. 樣本資料插入腳本
4. 常見查詢範例及效能說明
5. 架構更新的遷移腳本
6. 備份和還原程序

效能考量：
- 預期資料量：[大小估計]
- 查詢模式：[讀寫比例]
- 可擴展性需求：[成長預測]

包含開發者和 DBA 的文件。
"""
```

## API 文件生成

### OpenAPI/Swagger 文件

```python
"""
為台灣線上支付平台 API 創建完整的 OpenAPI 3.0 規格：

API 概覽：
- 基礎 URL：https://api.twpay.com.tw/v1
- 認證方式：API Key + JWT
- 版本：v1.0
- 主要用途：線上支付、交易查詢、退款處理

每個端點包含：
1. 完整路徑和 HTTP 方法
2. 詳細描述和用途
3. 請求參數（路徑、查詢、主體）
4. 請求/回應架構定義
5. 請求和回應範例
6. 錯誤回應格式和代碼
7. 認證需求

架構定義：
- 用戶模型和驗證規則
- 交易模型和關聯性
- 錯誤回應結構
- 分頁元資料

文件特色：
- 多語言互動範例（包含繁中）
- 認證流程說明
- 速率限制細節
- Webhook 規格（如適用）
- SDK 生成說明

包含：
- Postman 集合匯出
- 每個端點的 cURL 範例
- 客戶端函式庫使用範例
- 常見整合模式
"""
```

### 技術文件模板

**README 生成：**
```markdown
"""
為台灣開源專案創建完整的 README.md：

專案概覽：
- 簡要描述和目的
- 主要功能和能力
- 目標受眾和使用案例
- 技術堆疊和相依性

結構需求：
# 專案名稱
[引人注目的標語]

## 概覽
[2-3 段落的專案描述]

## 功能特色
- [主要功能 1 及簡要說明]
- [主要功能 2 及簡要說明]
- [主要功能 3 及簡要說明]

## 快速開始
[最少設定即可運行]

## 安裝
[詳細設定說明]

## 使用方法
[程式碼範例和常見情境]

## API 參考
[詳細 API 文件連結]

## 貢獻
[貢獻指南和流程]

## 授權
[授權資訊]

額外章節：
- 先決條件和系統需求
- 組態選項
- 常見問題排解
- 更新日誌或版本資訊
- 聯絡和支援資訊

使其易於瀏覽，包含適當的標題、程式碼區塊和徽章。
"""
```

## 測試與品質保證

### 測試生成提示

**單元測試創建：**
```python
"""
你是一位專精於 [測試框架] 的測試工程師。

為這段 [程式語言] 程式碼創建完整的單元測試：

[插入要測試的程式碼]

測試需求：
- 測試所有公開方法和函數
- 涵蓋邊緣情況和錯誤條件
- 測試邊界值和無效輸入
- 適當模擬外部相依性
- 達到 >90% 程式碼覆蓋率

測試類別：
1. 正常路徑測試
   - 正常操作情境
   - 預期輸入/輸出驗證
   - 成功執行流程

2. 邊緣情況測試
   - 邊界值測試
   - 空值/null 輸入處理
   - 最大/最小值限制

3. 錯誤條件測試
   - 例外處理驗證
   - 無效輸入回應
   - 資源不可用情境

4. 整合點
   - 資料庫互動模擬
   - 外部 API 呼叫模擬
   - 檔案系統操作測試

包含：
- 設定和拆除方法
- 測試資料固定裝置
- 相關的效能基準
- 複雜測試情境的文件
"""
```

### 程式碼審查自動化

```python
"""
你是一位專精於 [程式語言/框架] 的資深程式碼審查員。

審查此程式碼的以下面向：

程式碼品質因子：
1. 可讀性和可維護性
2. 效能和效率
3. 安全漏洞
4. 最佳實務遵循
5. 文件完整性

要審查的程式碼：
[插入程式碼]

請以此格式提供回饋：

## 整體評估
[高階總結和 1-10 評分]

## 優點
- [正面特點 1]
- [正面特點 2]

## 發現的問題

### 嚴重問題（需要修正）
- 第 [X] 行：[問題描述和安全/效能影響]
- 第 [Y] 行：[問題描述和建議修正]

### 建議（推薦）
- 第 [X] 行：[改進建議及理由]
- 第 [Y] 行：[程式碼風格或可維護性建議]

### 問題/澄清
- [關於設計決策或實作選擇的問題]

## 重構程式碼範例
[為嚴重問題提供改進版本]

## 額外建議
- 測試策略改進
- 文件增強
- 效能優化機會
"""
```

## DevOps 與部署

### 基礎設施即程式碼

```yaml
"""
你是一位專精於 [雲端供應商] 和基礎設施自動化的 DevOps 工程師。

為台灣新創公司的 SaaS 平台創建基礎設施即程式碼：

基礎設施需求：
- 環境：[開發/測試/正式]
- 預期流量：[負載估計]
- 高可用性：[正常運行時間需求]
- 安全合規：[合規標準，包含個資法要求]

包含元件：
1. 運算資源
   - [伺服器類型] 實例與自動擴展
   - 負載平衡器組態
   - 健康檢查端點

2. 資料庫層
   - [資料庫類型] 與備份策略
   - 必要時的讀取副本
   - 連線池設定

3. 儲存與 CDN
   - 靜態資產儲存
   - 媒體檔案處理
   - CDN 組態（考慮台灣地區最佳化）

4. 安全與監控
   - 安全群組和網路 ACL
   - SSL/TLS 憑證管理
   - 日誌記錄和監控設定
   - 告警組態

5. CI/CD 管線
   - 原始碼整合
   - 建置和測試自動化
   - 部署策略（藍綠、滾動）
   - 回滾程序

交付物：
- [工具] 組態檔案（Terraform/CloudFormation）
- Docker 組態和多階段建置
- Kubernetes 清單（如適用）
- 環境變數管理
- 部署腳本和文件
- 成本最佳化建議
"""
```

## 程式碼生成最佳實務

### 品質檢查表

使用生成的程式碼前：
- [ ] **安全審查**：無硬編碼機密、適當的輸入驗證
- [ ] **效能**：高效算法、適當的資源管理
- [ ] **錯誤處理**：全面的例外處理和日誌記錄
- [ ] **測試**：單元測試涵蓋主要功能和邊緣情況
- [ ] **文件**：清楚的註釋和使用範例
- [ ] **標準**：遵循程式語言特定的風格指引

### 提示優化技巧

1. **明確需求**：包含效能、安全性和可擴展性需求
2. **指定輸出格式**：請求特定的檔案結構、命名約定
3. **包含背景**：提供關於更大系統或應用程式的資訊
4. **請求測試**：始終要求單元測試和使用範例
5. **詢問文件**：包含內聯註釋和 README 章節

## 進階技巧

### 程式碼遷移與現代化

```python
"""
你是一位具有從 [舊技術] 到 [現代技術] 遷移經驗的軟體現代化專家。

現代化這段舊程式碼：
[插入舊程式碼]

遷移需求：
- 從 [舊程式語言/框架] 轉換到 [新程式語言/框架]
- 完全保持現有功能
- 改善效能和可維護性
- 添加現代功能：[特定功能]
- 更新架構模式

交付物：
1. 改進結構的現代化程式碼
2. 逐步過程的遷移指南
3. 舊新功能比較
4. 驗證功能同等性的測試計畫
5. 效能基準
6. 部署和回滾程序

考慮：
- 資料遷移需求
- API 相容性
- 用戶影響和培訓需求
- 時程和資源估計
"""
```

## 下一步

準備好提升你的技術提示技能了嗎？
- **[數據分析](/docs/tutorials/data-analysis)** - 從數據中生成洞察和報告
- **[進階技巧](/docs/advanced/chain-of-thought)** - 複雜推理和問題解決
- **[最佳實務](/docs/best-practices/testing-prompts)** - 優化提示效果

:::tip 開發工作流程
為您最常見的開發任務創建經過測試的提示庫。將您的提示與程式碼一起進行版本控制，以在各個專案中獲得一致的結果。
:::